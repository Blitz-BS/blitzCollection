{
    "$schema": "https://json-schema.org/draft/2020-12/schema",
    "$id": "https://raw.githubusercontent.com/Blitz-BS/blitzCollection/refs/heads/MGP-421-modularisation-de-l-objet-json-schema-pour-l-integ/json_schema/incidental.schema.json",
    "title": "Frais accessoires",
    "description": "Frais accessoires d'une dette",
    "type": "object",
    "oneOf": [
        {
            "additionalProperties": false,
            "required": ["incidentalCategory","name","rate","startDate"],
            "properties": {
                "$schema": {
                    "title" : "Schéma JSON",
                    "description" : "URL du schéma",
                    "type": "string",
                    "format": "uri"
                },
                "incidentalCategory": {
                    "title" : "Catégorie d'accessoires",
                    "description": "Type d'accessoires (intérêts, frais)",
                    "const" : "interests"
                },
                "name": {
                    "title" : "Nom des frais accessoires",
                    "description": "Frais accessoires dans le droit français",
                    "enum" : ["intérêts de retard"]
                },
                "rate": {
                    "title" : "Taux d'intérêt",
                    "type": "number",
                    "minimum" : 0,
                    "maximum" : 1
                },
                "startDate": {
                    "title" : "Date de départ des intérêts",
                    "description" : "Date à partir de laquelle les intérêts sont calculés",
                    "type": "string",
                    "format" : "date"
                },
                "endDate": {
                    "title" : "Date de fin des intérêts",
                    "description" : "Date à laquelle le calcul des intérêts s'arrête",
                    "type": "string",
                    "format" : "date"
                }
            }
        },
        {
            "required" : ["incidentalCategory","name","amount"],
            "additionalProperties": false,
            "properties": {
                "$schema": {
                    "title" : "Schéma JSON",
                    "description" : "URL du schéma",
                    "type": "string",
                    "format": "uri"
                },
                "incidentalCategory": {
                    "title" : "Catégorie d'accessoires",
                    "description": "Type d'accessoires (intérêts, frais)",
                    "const" : "fees"
                },
                "name": {
                    "title" : "Nom des frais accessoires",
                    "description": "Frais accessoires dans le droit français",
                    "enum" : ["pénalité de retard","indemnité forfaitaire","dommages et intérêts","dépens","article 700"]
                },
                "amount": {
                    "title" : "Montant des frais accessoires",
                    "description": "Exemple : 40.00. Montant dans la devise de la dette",
                    "type": "number",
                    "minimum": -999999999999.99,
                    "maximum": 999999999999.99
                }
            }
        }
    ]
}