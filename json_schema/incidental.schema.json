{
    "$schema": "https://json-schema.org/draft/2020-12/schema",
    "$id": "https://raw.githubusercontent.com/Blitz-BS/blitzCollection/refs/heads/MGP-421-modularisation-de-l-objet-json-schema-pour-l-integ/json_schema/incidental.schema.json",
    "title": "Frais accessoires",
    "description": "Frais accessoires d'une dette",
    "type": "object",
    "additionalProperties": false,
    "oneOf": [
        {
            "required": ["incidentalCategory","name","rate","startDate"],
            "properties": {
                "incidentalCategory": {
                    "title" : "Catégorie d'accessoires",
                    "description": "Type d'accessoires (intérêts, frais)",
                    "const" : "Interests"
                },
                "name": {
                    "title" : "Nom des frais accessoires",
                    "description": "Frais accessoires dans le droit français",
                    "enum" : ["Intérêt de retard"]
                },
                "rate": {
                    "title" : "Taux d'intérêt",
                    "type": "number",
                    "minimum" : 0,
                    "maximum" : 1
                },
                "startDate": {
                    "title" : "date de départ des intérêts",
                    "description" : "date à partir de laquelle les intérêts sont calculés",
                    "type": "string",
                    "format" : "date"
                }
            }
        },
        {
            "required" : ["incidentalCategory","name","amount"],
            "properties": {
                "incidentalCategory": {
                    "title" : "Catégorie d'accessoires",
                    "description": "Type d'accessoires (intérêts, frais)",
                    "const" : "Fees"
                },
                "name": {
                    "title" : "Nom des frais accessoires",
                    "description": "Frais accessoires dans le droit français",
                    "enum" : ["Pénalité de retard","Indemnité forfaitaire","Dommages et intérêts","Dépens","Article 700"]
                },
                "amount": {
                    "title" : "Montant des frais accessoires",
                    "description": "Exemple : 40.00. Montant dans la devise de la dette",
                    "type": "number",
                    "minimum": -999999999999.99,
                    "maximum": 999999999999.99
                }
            }
        }
    ]
}